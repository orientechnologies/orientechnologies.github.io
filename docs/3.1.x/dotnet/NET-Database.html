<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Database - OrientDB</title>


        <!-- Custom HTML head -->

        <meta name="description" content="OrientDB documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OrientDB</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="orientdb-net---odatabase"><a class="header" href="#orientdb-net---odatabase">OrientDB-NET - <code>ODatabase</code></a></h1>
<p>This class provides an interface and methods for when you need to operate on OrientDB databases from within your C#/.NET application.</p>
<p>Use this interface in cases where you need to retrieve or manage clusters, operate on records or issue scripts, queries and commands to the database.  If you want to operate on the OrientDB Server as a whole or create or delete databases on the server, use the <a href="NET-Server.html"><code>OServer</code></a> interface.</p>
<h2 id="initializing-the-database"><a class="header" href="#initializing-the-database">Initializing the Database</a></h2>
<p>When you enable the <code>Orient.Client</code> namespace through the <code>using</code> directive, you can create a database interface for your application by instantiating the <code>ODatabase</code> class.</p>
<h3 id="syntax"><a class="header" href="#syntax">Syntax</a></h3>
<pre><code>// INITIALIZE DATABASE
ODatabase(  string host, 
            int port,
            string name,
            ODatabaseType type,
            string user,
            string passwd)

// INITIALIZE DATABASE USING CONNECTION POOL
ODatabase(  string host,
            int port,
            string name,
            ODatabaseType type,
            string user,
            string passwd,
            string poolAlias)
</code></pre>
<ul>
<li><strong><code>host</code></strong> Defines the hostname or IP address of the OrientDB Server.</li>
<li><strong><code>port</code></strong> Defines the port to use in connecting to the server.</li>
<li><strong><code>name</code></strong> Defines the database name.</li>
<li><strong><code>type</code></strong> Defines the database type, that is PLocal or Memory.</li>
<li><strong><code>user</code></strong> Defines the user name.</li>
<li><strong><code>passwd</code></strong> Defines the user password.</li>
<li><strong><code>poolAlias</code></strong> Defines the alias to use for the connection pool.</li>
</ul>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<p>In the interest of abstraction, you might create a method to handle common OrientDB database operations for your application.</p>
<pre><code class="language-csharp">using Orient.Client;
using System;
...

// OPEN DATABASE
public ODatabase openDatabase(string _host, int _port,
       string _dbName, string _user, string _passwd)
{

   // CONSOLE LOG
   Console.WriteLine("Opening Database: {0}", _dbname);

   // OPEN DATABASE
   ODatabase database = ODatabase(_host, _port, _dbName, 
       ODatabaseType.Graph, _user, _passwd);

   // RETURN ODATABASE INSTANCE
   return database;
}
</code></pre>
<h4 id="using-a-connection-pool"><a class="header" href="#using-a-connection-pool">Using a Connection Pool</a></h4>
<p>Normally, OrientDB-NET clients operate through a single network connection.  When working with web applications or any situation where network bottlenecks are a concern, it is common to pool these connections to ensure better performance.</p>
<p>To use a connection pool pass a pool alias when you create the <code>ODatabase</code> interface.</p>
<pre><code class="language-csharp">ODatabase database = ODatabase("localhost", 2424,
   "microblog", ODatabaseType.PLocal, 
   "guestUser", "guest_passwd",
   "pool123");
</code></pre>
<h4 id="using-connection-options"><a class="header" href="#using-connection-options">Using Connection Options</a></h4>
<p>In addition to configuring the database interface through arguments passed to the <code>ODatabase</code> class, you can also create a configuration object independent of the class, through the <code>ConnectionOptions</code> class.  You may find this useful when you need to initialize several database instances with similar configuration.</p>
<p>The <code>ConnectionOptions</code> class has seven parameters:</p>
<div class="table-wrapper"><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>HostName</code></td><td><code>string</code></td><td>Defines the hostname or IP address of the server hosting OrientDB</td></tr>
<tr><td><code>UserName</code></td><td><code>string</code></td><td>Defines the name of the database user</td></tr>
<tr><td><code>Password</code></td><td><code>string</code></td><td>Defines the password for database user</td></tr>
<tr><td><code>Port</code></td><td><code>int</code></td><td>Defines the port number for the connection</td></tr>
<tr><td><code>DatabaseName</code></td><td><code>string</code></td><td>Defines the name of the database to use</td></tr>
<tr><td><code>DatabaseType</code></td><td><code>ODatabaseType</code></td><td>Defnes the type of database, PLocal or Memory</td></tr>
<tr><td><code>PoolAlias</code></td><td><code>string</code></td><td>Defines the connection pool to use.</td></tr>
</tbody></table>
</div>
<p>If you initialize this object without defining the connection pool, it sets it to <code>Default</code>.</p>
<pre><code class="language-csharp">// INITIALIZE CONNECTION OPTIONS
ConnectionOptions opts = ConnectionOptions();

opts.HostName = "localhost";
opts.UserName = "admin";
opts.Password = "admin_passwd";
opts.Port = 2727;
opts.DatabaseName = "microblog";
opts.DatabaseType = ODatabaseType.PLocal

// Initialize Database
ODatabase database = ODatabase(opts);
</code></pre>
<h2 id="using-odatabase"><a class="header" href="#using-odatabase">Using ODatabase</a></h2>
<p>Once you have instantiated the <code>ODatabase</code> class, you can begin to operate on a particular database from within your C#/.NET application.  OrientDB-NET supports a number of database-level operations that you can call through this interface. Additionally, you can issue queries, commands and scripts to the database for those operations that it does not support.</p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Return Value</th><th>Description</th></tr></thead><tbody>
<tr><td><a href="#closing-databases"><strong><code>Close()</code></strong></a></td><td><code>void</code></td><td>Disposes of the database instance.</td></tr>
<tr><td><a href="NET-Database-Clusters.html"><strong><code>Clusters()</code></strong></a></td><td><code>OClusterQuery</code></td><td>Creates clusters.</td></tr>
<tr><td><a href="NET-Database-Command.html"><strong><code>Command()</code></strong></a></td><td><code>OCommandResult</code></td><td>Issues commands.</td></tr>
<tr><td><a href="#size-variables"><strong><code>CountRecords</code></strong></a></td><td><code>long</code></td><td>Counts records on database.</td></tr>
<tr><td><a href="#closing-databases"><strong><code>Dispose()</code></strong></a></td><td><code>void</code></td><td>Disposes of the database instance.</td></tr>
<tr><td><a href="NET-Database-GetClusterIdFor.html"><strong><code>GetClusterIdFor()</code></strong></a></td><td><code>short</code></td><td>Retrieves ID for the given cluster name.</td></tr>
<tr><td><a href="NET-Database-GetClusterNameFor.html"><strong><code>GetClusterNameFor()</code></strong></a></td><td><code>string</code></td><td>Retrieves the name for the given Cluster ID.</td></tr>
<tr><td><a href="NET-Database-GetClusters.html"><strong><code>GetClusters()</code></strong></a></td><td><code>List&lt;OCluster&gt;</code></td><td>Retrieves clusters from database.</td></tr>
<tr><td><a href="NET-Database-Gremlin.html"><strong><code>Gremlin()</code></strong></a></td><td><code>OCommandResult</code></td><td>Executes Gremlin commands.</td></tr>
<tr><td><a href="NET-Database-Insert.html"><strong><code>Insert()</code></strong></a></td><td><code>IOInsert</code></td><td>Prepares insertion operations.</td></tr>
<tr><td><a href="NET-Database-JS.html"><strong><code>JavaScript()</code></strong></a></td><td><code>OCommamndQuery</code></td><td>Prepares JavaScript commands.</td></tr>
<tr><td><a href="NET-Database-Query.html"><strong><code>Query()</code></strong></a></td><td><code>List&lt;ODocument&gt;</code></td><td>Queries the database using SQL.</td></tr>
<tr><td><a href="NET-Database-Select.html"><strong><code>Select()</code></strong></a></td><td><code>OSqlSelect</code></td><td>Prepares queries to execute.</td></tr>
<tr><td><a href="#size-variables"><strong><code>Size</code></strong></a></td><td><code>long</code></td><td>Retrieves the size of the database.</td></tr>
<tr><td><a href="NET-Database-SqlBatch.html"><strong><code>SqlBatch()</code></strong></a></td><td><code>OCommandQuery</code></td><td>Executes batch queries.</td></tr>
<tr><td><a href="NET-Database-Update.html"><strong><code>Update()</code></strong></a></td><td><code>OSqlUpdate</code></td><td>Prepares update statements.</td></tr>
</tbody></table>
</div>
<h3 id="size-variables"><a class="header" href="#size-variables">Size Variables</a></h3>
<p>In addition to the various methods, the <code>ODatabase</code> object also supports sizing variables, which you can use to determine the size of the database or the number of records it contains.</p>
<ul>
<li>
<p>To retrieve the size of the database, use the <code>Size</code> variable:</p>
<pre><code class="language-csharp">long databaseSize = database.Size;
</code></pre>
</li>
<li>
<p>To count the number of records on the database, use the <code>CountRecords</code> variable:</p>
<pre><code class="language-csharp">long numberOfRecords = database.CountRecords;
</code></pre>
</li>
</ul>
<h3 id="closing-databases"><a class="header" href="#closing-databases">Closing Databases</a></h3>
<p>When you are finished using the database instance, you can close it to free up system resources.  The <code>ODatabase</code> object provides two methods for closing databases: <code>Close()</code> and <code>Dispose()</code>.  Given that one is an alias to the other, you can use whichever is more famiiliar to you.</p>
<pre><code class="language-csharp">// CLOSE DATABSE
database.Close()
</code></pre>
<h3 id="transactions"><a class="header" href="#transactions">Transactions</a></h3>
<p>OrientDB provides support for transactions.  The Insert(), Update() and Query() methods all provide support so that you can execute them as part of a transaction rather than on the database outright.  For more information, see <a href="NET-Transactions.html"><code>OTransaction</code></a>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../dotnet/NET-Server-DropDatabase.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../dotnet/NET-Database-Clusters.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../dotnet/NET-Server-DropDatabase.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../dotnet/NET-Database-Clusters.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>


        
        <img referrerpolicy="unsafe-url" src="https://tglman.org/OrientDB/matomo.php?idsite=7&amp;rec=1" style="border:0" alt="" />


        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
