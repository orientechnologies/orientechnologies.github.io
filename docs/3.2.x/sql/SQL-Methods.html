<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Methods - OrientDB</title>


        <!-- Custom HTML head -->

        <meta name="description" content="OrientDB documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OrientDB</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sql-methods"><a class="header" href="#sql-methods">SQL Methods</a></h1>
<p>SQL Methods are similar to <a href="SQL-Functions.html">SQL functions</a> but they apply to values. In Object Oriented paradigm they are called "methods", as functions related to a class. So what's the difference between a function and a method?</p>
<p>This is a <a href="SQL-Functions.html">SQL function</a>:</p>
<pre><code class="language-sql">SELECT FROM sum( salary ) FROM employee
</code></pre>
<p>This is a SQL method:</p>
<pre><code class="language-sql">SELECT FROM salary.toJSON() FROM employee
</code></pre>
<p>As you can see the method is executed against a field/value. Methods can receive parameters, like functions. You can concatenate N operators in sequence.</p>
<blockquote>
<p><strong>Note</strong>: operators are case-insensitive.</p>
</blockquote>
<h2 id="bundled-methods"><a class="header" href="#bundled-methods">Bundled methods</a></h2>
<h3 id="methods-by-category"><a class="header" href="#methods-by-category">Methods by category</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Conversions</th><th>String manipulation</th><th>Collections</th><th>Misc</th></tr></thead><tbody>
<tr><td><a href="SQL-Methods.html#convert">convert()</a></td><td><a href="SQL-Methods.html#append">append()</a></td><td><a href="SQL-Methods.html">[]</a></td><td><a href="SQL-Methods.html#exclude">exclude()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asboolean">asBoolean()</a></td><td><a href="SQL-Methods.html#charat">charAt()</a></td><td><a href="SQL-Methods.html#size">size()</a></td><td><a href="SQL-Methods.html#include">include()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asdate">asDate()</a></td><td><a href="SQL-Methods.html#indexof">indexOf()</a></td><td><a href="SQL-Methods.html#remove">remove()</a></td><td><a href="SQL-Methods.html#javatype">javaType()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asdatetime">asDatetime()</a></td><td><a href="SQL-Methods.html#left">left()</a></td><td><a href="SQL-Methods.html#removeall">removeAll()</a></td><td><a href="SQL-Methods.html#tojson">toJSON()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asdecimal">asDecimal()</a></td><td><a href="SQL-Methods.html#right">right()</a></td><td><a href="SQL-Methods.html#keys">keys()</a></td><td><a href="SQL-Methods.html#type">type()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asfloat">asFloat()</a></td><td><a href="SQL-Methods.html#prefix">prefix()</a></td><td><a href="SQL-Methods.html#values">values()</a></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#asinteger">asInteger()</a></td><td><a href="SQL-Methods.html#trim">trim()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#aslist">asList()</a></td><td><a href="SQL-Methods.html#replace">replace()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#aslong">asLong()</a></td><td><a href="SQL-Methods.html#length">length()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#asmap">asMap()</a></td><td><a href="SQL-Methods.html#substring">subString()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#asset">asSet()</a></td><td><a href="SQL-Methods.html#tolowercase">toLowerCase()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#asstring">asString()</a></td><td><a href="SQL-Methods.html#touppercase">toUpperCase()</a></td><td></td><td></td></tr>
<tr><td><a href="SQL-Methods.html#normalize">normalize()</a></td><td><a href="SQL-Methods.html#hash">hash()</a></td><td></td><td></td></tr>
<tr><td></td><td><a href="SQL-Methods.html#format">format()</a></td><td></td><td></td></tr>
</tbody></table>
</div>
<h3 id="methods-by-name"><a class="header" href="#methods-by-name">Methods by name</a></h3>
<div class="table-wrapper"><table><thead><tr><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody>
<tr><td><a href="SQL-Methods.html">[]</a></td><td><a href="SQL-Methods.html#append">append()</a></td><td><a href="SQL-Methods.html#asboolean">asBoolean()</a></td><td><a href="SQL-Methods.html#asdate">asDate()</a></td><td><a href="SQL-Methods.html#asdatetime">asDatetime()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asdecimal">asDecimal()</a></td><td><a href="SQL-Methods.html#asfloat">asFloat()</a></td><td><a href="SQL-Methods.html#asinteger">asInteger()</a></td><td><a href="SQL-Methods.html#aslist">asList()</a></td><td><a href="SQL-Methods.html#aslong">asLong()</a></td></tr>
<tr><td><a href="SQL-Methods.html#asset">asSet()</a></td><td><a href="SQL-Methods.html#asstring">asString()</a></td><td><a href="SQL-Methods.html#charat">charAt()</a></td><td><a href="SQL-Methods.html#convert">convert()</a></td><td><a href="SQL-Methods.html#exclude">exclude()</a></td></tr>
<tr><td><a href="SQL-Methods.html#hash">hash()</a></td><td><a href="SQL-Methods.html#include">include()</a></td><td><a href="SQL-Methods.html#indexof">indexOf()</a></td><td><a href="SQL-Methods.html#javatype">javaType()</a></td><td><a href="SQL-Methods.html#keys">keys()</a></td></tr>
<tr><td><a href="SQL-Methods.html#length">length()</a></td><td><a href="SQL-Methods.html#normalize">normalize()</a></td><td><a href="SQL-Methods.html#prefix">prefix()</a></td><td><a href="SQL-Methods.html#remove">remove()</a></td><td><a href="SQL-Methods.html#removeall">removeAll()</a></td></tr>
<tr><td><a href="SQL-Methods.html#right">right()</a></td><td><a href="SQL-Methods.html#size">size()</a></td><td><a href="SQL-Methods.html#substring">subString()</a></td><td><a href="SQL-Methods.html#trim">trim()</a></td><td><a href="SQL-Methods.html#tojson">toJSON()</a></td></tr>
<tr><td><a href="SQL-Methods.html#touppercase">toUpperCase()</a></td><td><a href="SQL-Methods.html#type">type()</a></td><td><a href="SQL-Methods.html#values">values()</a></td><td></td><td></td></tr>
</tbody></table>
</div>
<h3 id=""><a class="header" href="#"><code>[]</code></a></h3>
<p>Execute an expression against the item. An item can be a multi-value object like a map, a list, an array or a document. For documents and maps, the item must be a string. For lists and arrays, the index is a number.</p>
<p>Syntax: <code>&lt;value&gt;[&lt;expression&gt;]</code></p>
<p>Applies to the following types:</p>
<ul>
<li>document,</li>
<li>map,</li>
<li>list,</li>
<li>array</li>
</ul>
<h4 id="examples"><a class="header" href="#examples">Examples</a></h4>
<p>Get the item with key "phone" in a map:</p>
<pre><code class="language-sql">SELECT FROM Profile WHERE '+39' IN contacts[phone].left(3)
</code></pre>
<p>Get the first 10 tags of posts:</p>
<pre><code class="language-sql">SELECT FROM tags[0-9] FROM Posts
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc5: First version</li>
</ul>
<hr />
<h3 id="append"><a class="header" href="#append">.append()</a></h3>
<p>Appends a string to another one.</p>
<p>Syntax: <code>&lt;value&gt;.append(&lt;value&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-1"><a class="header" href="#examples-1">Examples</a></h4>
<pre><code class="language-sql">SELECT name.append(' ').append(surname) FROM Employee
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="asboolean"><a class="header" href="#asboolean">.asBoolean()</a></h3>
<p>Transforms the field into a Boolean type. If the origin type is a string, then "true" and "false" is checked. If it's a number then 1 means TRUE while 0 means FALSE.</p>
<p>Syntax: <code>&lt;value&gt;.asBoolean()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string,</li>
<li>short,</li>
<li>int,</li>
<li>long</li>
</ul>
<h4 id="examples-2"><a class="header" href="#examples-2">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM Users WHERE online.asBoolean() = true
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.15: First version</li>
</ul>
<hr />
<h3 id="asdate"><a class="header" href="#asdate">.asDate()</a></h3>
<p>Transforms the field into a Date type. To know more about it, look at <a href="../general/Managing-Dates.html">Managing Dates</a>.</p>
<p>Syntax: <code>&lt;value&gt;.asDate()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string,</li>
<li>long</li>
</ul>
<h4 id="examples-3"><a class="header" href="#examples-3">Examples</a></h4>
<p>Time is stored as long type measuring milliseconds since a particular day. Returns all the records where time is before the year 2010:</p>
<pre><code class="language-sql">SELECT FROM Log WHERE time.asDateTime() &lt; '01-01-2010 00:00:00' 
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.14: First version</li>
</ul>
<hr />
<h3 id="asdatetime"><a class="header" href="#asdatetime">.asDateTime()</a></h3>
<p>Transforms the field into a Date type but parsing also the time information. To know more about it, look at <a href="../general/Managing-Dates.html">Managing Dates</a>.</p>
<p>Syntax: <code>&lt;value&gt;.asDateTime()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string,</li>
<li>long</li>
</ul>
<h4 id="examples-4"><a class="header" href="#examples-4">Examples</a></h4>
<p>Time is stored as long type measuring milliseconds since a particular day. Returns all the records where time is before the year 2010:</p>
<pre><code class="language-sql">SELECT FROM Log WHERE time.asDateTime() &lt; '01-01-2010 00:00:00' 
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.14: First version</li>
</ul>
<hr />
<h3 id="asdecimal"><a class="header" href="#asdecimal">.asDecimal()</a></h3>
<p>Transforms the field into an Decimal type. Use Decimal type when treat currencies.</p>
<p>Syntax: <code>&lt;value&gt;.asDecimal()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-5"><a class="header" href="#examples-5">Examples</a></h4>
<pre><code class="language-sql">SELECT salary.asDecimal() FROM Employee
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="asfloat"><a class="header" href="#asfloat">.asFloat()</a></h3>
<p>Transforms the field into a float type.</p>
<p>Syntax: <code>&lt;value&gt;.asFloat()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-6"><a class="header" href="#examples-6">Examples</a></h4>
<pre><code class="language-sql">SELECT ray.asFloat() &gt; 3.14
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.14: First version</li>
</ul>
<hr />
<h3 id="asinteger"><a class="header" href="#asinteger">.asInteger()</a></h3>
<p>Transforms the field into an integer type.</p>
<p>Syntax: <code>&lt;value&gt;.asInteger()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-7"><a class="header" href="#examples-7">Examples</a></h4>
<p>Converts the first 3 chars of 'value' field in an integer:</p>
<pre><code class="language-sql">SELECT value.left(3).asInteger() FROM Log
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.14: First version</li>
</ul>
<hr />
<h3 id="aslist"><a class="header" href="#aslist">.asList()</a></h3>
<p>Transforms the value in a List. If it's a single item, a new list is created.</p>
<p>Syntax: <code>&lt;value&gt;.asList()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-8"><a class="header" href="#examples-8">Examples</a></h4>
<pre><code class="language-sql">SELECT tags.asList() FROM Friend
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc2: First version</li>
</ul>
<hr />
<h3 id="aslong"><a class="header" href="#aslong">.asLong()</a></h3>
<p>Transforms the field into a Long type. To know more about it, look at <a href="../general/Managing-Dates.html">Managing Dates</a>.</p>
<p>Syntax: <code>&lt;value&gt;.asLong()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-9"><a class="header" href="#examples-9">Examples</a></h4>
<pre><code class="language-sql">SELECT date.asLong() FROM Log
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="asmap"><a class="header" href="#asmap">.asMap()</a></h3>
<p>Transforms the value in a Map where even items are the keys and odd items are values.</p>
<p>Syntax: <code>&lt;value&gt;.asMap()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>collections</li>
</ul>
<h4 id="examples-10"><a class="header" href="#examples-10">Examples</a></h4>
<pre><code class="language-sql">SELECT tags.asMap() FROM Friend
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc2: First version</li>
</ul>
<hr />
<h3 id="asset"><a class="header" href="#asset">.asSet()</a></h3>
<p>Transforms the value in a Set. If it's a single item, a new set is created. Sets doesn't allow duplicates.</p>
<p>Syntax: <code>&lt;value&gt;.asSet()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-11"><a class="header" href="#examples-11">Examples</a></h4>
<pre><code class="language-sql">SELECT tags.asSet() FROM Friend
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc2: First version</li>
</ul>
<hr />
<h3 id="asstring"><a class="header" href="#asstring">.asString()</a></h3>
<p>Transforms the field into a string type.</p>
<p>Syntax: <code>&lt;value&gt;.asString()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-12"><a class="header" href="#examples-12">Examples</a></h4>
<p>Get all the salaries with decimals:</p>
<pre><code class="language-sql">SELECT salary.asString().indexOf('.') &gt; -1
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.14: First version</li>
</ul>
<hr />
<h3 id="charat"><a class="header" href="#charat">.charAt()</a></h3>
<p>Returns the character of the string contained in the position 'position'. 'position' starts from 0 to string length.</p>
<p>Syntax: <code>&lt;value&gt;.charAt(&lt;position&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-13"><a class="header" href="#examples-13">Examples</a></h4>
<p>Get the first character of the users' name:</p>
<pre><code class="language-sql">SELECT FROM User WHERE name.charAt( 0 ) = 'L'
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="convert"><a class="header" href="#convert">.convert()</a></h3>
<p>Convert a value to another type.</p>
<p>Syntax: <code>&lt;value&gt;.convert(&lt;type&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-14"><a class="header" href="#examples-14">Examples</a></h4>
<pre><code class="language-sql">SELECT dob.convert( 'date' ) FROM User
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc2: First version</li>
</ul>
<hr />
<h3 id="exclude"><a class="header" href="#exclude">.exclude()</a></h3>
<p>Excludes some properties in the resulting document.</p>
<p>Syntax: <code>&lt;value&gt;.exclude(&lt;field-name&gt;[,]*)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>document record</li>
</ul>
<h4 id="examples-15"><a class="header" href="#examples-15">Examples</a></h4>
<pre><code class="language-sql">SELECT EXPAND( @this.exclude( 'password' ) ) FROM OUser
</code></pre>
<p>Starting from 2.2.19 you can specify a wildcard as ending character to exclude all the fields that start with a certain string. Example to exclude all the outgoing and incoming edges:</p>
<pre><code class="language-sql">SELECT EXPAND( @this.exclude( 'out_*', 'in_*' ) ) FROM V
</code></pre>
<hr />
<h3 id="format"><a class="header" href="#format">.format()</a></h3>
<p>Returns the value formatted using the common "printf" syntax. For the complete reference goto <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Formatter.html#syntax">Java Formatter JavaDoc</a>.  To know more about it, look at <a href="../general/Managing-Dates.html">Managing Dates</a>.</p>
<p>Syntax: <code>&lt;value&gt;.format(&lt;format&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-16"><a class="header" href="#examples-16">Examples</a></h4>
<p>Formats salaries as number with 11 digits filling with 0 at left:</p>
<pre><code class="language-sql">SELECT salary.format("%-011d") FROM Employee
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.8: First version</li>
</ul>
<hr />
<h3 id="hash"><a class="header" href="#hash">.hash()</a></h3>
<p>Returns the hash of the field. Supports all the algorithms available in the JVM.</p>
<p>Syntax: <code>&lt;value&gt;</code>.hash([<algorithm>])```</p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<p>Get the SHA-512 of the field "password" in the class User:</p>
<pre><code class="language-sql">SELECT password.hash('SHA-512') FROM User
</code></pre>
<h4 id="history"><a class="header" href="#history">History</a></h4>
<ul>
<li>1.7: First version</li>
</ul>
<hr />
<h3 id="include"><a class="header" href="#include">.include()</a></h3>
<p>Include only some properties in the resulting document.</p>
<p>Syntax: <code>&lt;value&gt;.include(&lt;field-name&gt;[,]*)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>document record</li>
</ul>
<h4 id="examples-17"><a class="header" href="#examples-17">Examples</a></h4>
<pre><code class="language-sql">SELECT EXPAND( @this.include( 'name' ) ) FROM OUser
</code></pre>
<p>Starting from 2.2.19 you can specify a wildcard as ending character to include all the fields that start with a certain string. Example to include all the fields that starts with <code>amount</code>:</p>
<pre><code class="language-sql">SELECT EXPAND( @this.exclude( 'amount*' ) ) FROM V
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc2: First version</li>
</ul>
<hr />
<h3 id="indexof"><a class="header" href="#indexof">.indexOf()</a></h3>
<p>Returns the position of the 'string-to-search' inside the value. It returns -1 if no occurrences are found. 'begin-position' is the optional position where to start, otherwise the beginning of the string is taken (=0).</p>
<p>Syntax: <code>&lt;value&gt;.indexOf(&lt;string-to-search&gt; [, &lt;begin-position&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-18"><a class="header" href="#examples-18">Examples</a></h4>
<p>Returns all the UK numbers:</p>
<pre><code class="language-sql">SELECT FROM Contact WHERE phone.indexOf('+44') &gt; -1
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.10: First version</li>
</ul>
<hr />
<h3 id="javatype"><a class="header" href="#javatype">.javaType()</a></h3>
<p>Returns the corresponding Java Type.</p>
<p>Syntax: <code>&lt;value&gt;.javaType()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-19"><a class="header" href="#examples-19">Examples</a></h4>
<p>Prints the Java type used to store dates:</p>
<pre><code class="language-sql">SELECT FROM date.javaType() FROM Events
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="keys"><a class="header" href="#keys">.keys()</a></h3>
<p>Returns the map's keys as a separate set. Useful to use in conjunction with IN, CONTAINS and CONTAINSALL operators.</p>
<p>Syntax: <code>&lt;value&gt;.keys()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>maps</li>
<li>documents</li>
</ul>
<h4 id="examples-20"><a class="header" href="#examples-20">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM Actor WHERE 'Luke' IN map.keys()
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="left"><a class="header" href="#left">.left()</a></h3>
<p>Returns a substring of the original cutting from the begin and getting 'len' characters.</p>
<p>Syntax: <code>&lt;value&gt;.left(&lt;length&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-21"><a class="header" href="#examples-21">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM Actors WHERE name.left( 4 ) = 'Luke'
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="length"><a class="header" href="#length">.length()</a></h3>
<p>Returns the length of the string. If the string is null 0 will be returned.</p>
<p>Syntax: <code>&lt;value&gt;.length()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-22"><a class="header" href="#examples-22">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM Providers WHERE name.length() &gt; 0
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="normalize"><a class="header" href="#normalize">.normalize()</a></h3>
<p>Form can be NDF, NFD, NFKC, NFKD. Default is NDF. pattern-matching if not defined is "\p{InCombiningDiacriticalMarks}+". For more information look at <a href="http://www.unicode.org/reports/tr15/tr15-23.html">Unicode Standard</a>.</p>
<p>Syntax: <code>&lt;value&gt;.normalize( [&lt;form&gt;] [,&lt;pattern-matching&gt;] )</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-23"><a class="header" href="#examples-23">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM V WHERE name.normalize() AND name.normalize('NFD')
</code></pre>
<p>#### History</p>
<ul>
<li>1.4.0: First version</li>
</ul>
<hr />
<h3 id="prefix"><a class="header" href="#prefix">.prefix()</a></h3>
<p>Prefixes a string to another one.</p>
<p>Syntax: <code>&lt;value&gt;.prefix('&lt;string&gt;')</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-24"><a class="header" href="#examples-24">Examples</a></h4>
<pre><code class="language-sql">SELECT name.prefix('Mr. ') FROM Profile
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="remove"><a class="header" href="#remove">.remove()</a></h3>
<p>Removes the first occurrence of the passed items.</p>
<p>Syntax: <code>&lt;value&gt;.remove(&lt;item&gt;*)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>collection</li>
</ul>
<h4 id="examples-25"><a class="header" href="#examples-25">Examples</a></h4>
<pre><code class="language-sql">SELECT out().in().remove( @this ) FROM V
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="removeall"><a class="header" href="#removeall">.removeAll()</a></h3>
<p>Removes all the occurrences of the passed items.</p>
<p>Syntax: <code>&lt;value&gt;.removeAll(&lt;item&gt;*)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>collection</li>
</ul>
<h4 id="examples-26"><a class="header" href="#examples-26">Examples</a></h4>
<pre><code class="language-sql">SELECT out().in().removeAll( @this ) FROM V
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="replace"><a class="header" href="#replace">.replace()</a></h3>
<p>Replace a string with another one.</p>
<p>Syntax: <code>&lt;value&gt;.replace(&lt;to-find&gt;, &lt;to-replace&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-27"><a class="header" href="#examples-27">Examples</a></h4>
<pre><code class="language-sql">SELECT name.replace('Mr.', 'Ms.') FROM User
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="right"><a class="header" href="#right">.right()</a></h3>
<p>Returns a substring of the original cutting from the end of the string 'length' characters.</p>
<p>Syntax: <code>&lt;value&gt;.right(&lt;length&gt;)</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-28"><a class="header" href="#examples-28">Examples</a></h4>
<p>Returns all the vertices where the name ends by "ke".</p>
<pre><code class="language-sql">SELECT FROM V WHERE name.right( 2 ) = 'ke'
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="size"><a class="header" href="#size">.size()</a></h3>
<p>Returns the size of the collection.</p>
<p>Syntax: <code>&lt;value&gt;.size()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>collection</li>
</ul>
<h4 id="examples-29"><a class="header" href="#examples-29">Examples</a></h4>
<p>Returns all the items in a tree with children:</p>
<pre><code class="language-sql">SELECT FROM TreeItem WHERE children.size() &gt; 0
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="substring"><a class="header" href="#substring">.subString()</a></h3>
<p>Returns a substring of the original cutting from 'begin' index up to 'end' index (not included).</p>
<p>Syntax: <code>&lt;value&gt;.subString(&lt;begin&gt; [,&lt;end&gt;] )</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-30"><a class="header" href="#examples-30">Examples</a></h4>
<p>Get all the items where the name begins with an "L":</p>
<pre><code class="language-sql">SELECT name.substring( 0, 1 ) = 'L' FROM StockItems
</code></pre>
<p>Substring of <code>OrientDB</code></p>
<pre><code class="language-sql">SELECT "OrientDB".substring(0,6)
</code></pre>
<p>returns <code>Orient</code></p>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="trim"><a class="header" href="#trim">.trim()</a></h3>
<p>Returns the original string removing white spaces from the begin and the end.</p>
<p>Syntax: <code>&lt;value&gt;.trim()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-31"><a class="header" href="#examples-31">Examples</a></h4>
<pre><code class="language-sql">SELECT name.trim() == 'Luke' FROM Actors
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="tojson"><a class="header" href="#tojson">.toJSON()</a></h3>
<p>Returns the record in JSON format.</p>
<p>Syntax: <code>&lt;value&gt;.toJSON([&lt;format&gt;])</code></p>
<p>Where:</p>
<ul>
<li><strong>format</strong> optional, allows custom formatting rules (separate multiple options by comma). Rules are the following:</li>
<li><strong>type</strong> to include the fields' types in the "@fieldTypes" attribute</li>
<li><strong>rid</strong> to include records's RIDs as attribute "@rid"</li>
<li><strong>version</strong> to include records' versions in the attribute "@version"</li>
<li><strong>class</strong> to include the class name in the attribute "@class"</li>
<li><strong>attribSameRow</strong> put all the attributes in the same row</li>
<li><strong>indent</strong> is the indent level as integer. By Default no ident is used</li>
<li><strong>fetchPlan</strong> is the <a href="../java/Fetching-Strategies.html">FetchPlan</a> to use while fetching linked records</li>
<li><strong>alwaysFetchEmbedded</strong> to always fetch embedded records (without considering the fetch plan)</li>
<li><strong>dateAsLong</strong> to return dates (Date and Datetime types) as long numbers</li>
<li><strong>prettyPrint</strong> indent the returning JSON in readable (pretty) way</li>
</ul>
<p>Applies to the following types:</p>
<ul>
<li>record</li>
</ul>
<h4 id="examples-32"><a class="header" href="#examples-32">Examples</a></h4>
<pre><code class="language-sql">create class Test extends V
insert into Test content {"attr1": "value 1", "attr2": "value 2"}

select @this.toJson('rid,version,fetchPlan:in_*:-2 out_*:-2') from Test
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.8: First version</li>
</ul>
<hr />
<h3 id="tolowercase"><a class="header" href="#tolowercase">.toLowerCase()</a></h3>
<p>Returns the string in lower case.</p>
<p>Syntax: <code>&lt;value&gt;.toLowerCase()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-33"><a class="header" href="#examples-33">Examples</a></h4>
<pre><code class="language-sql">SELECT name.toLowerCase() == 'luke' FROM Actors
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="touppercase"><a class="header" href="#touppercase">.toUpperCase()</a></h3>
<p>Returns the string in upper case.</p>
<p>Syntax: <code>&lt;value&gt;.toUpperCase()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>string</li>
</ul>
<h4 id="examples-34"><a class="header" href="#examples-34">Examples</a></h4>
<pre><code class="language-sql">SELECT name.toUpperCase() == 'LUKE' FROM Actors
</code></pre>
<p>#### History</p>
<ul>
<li>0.9.7: First version</li>
</ul>
<hr />
<h3 id="type"><a class="header" href="#type">.type()</a></h3>
<p>Returns the value's OrientDB Type.</p>
<p>Syntax: <code>&lt;value&gt;.type()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>any</li>
</ul>
<h4 id="examples-35"><a class="header" href="#examples-35">Examples</a></h4>
<p>Prints the type used to store dates:</p>
<pre><code class="language-sql">SELECT FROM date.type() FROM Events
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />
<h3 id="values"><a class="header" href="#values">.values()</a></h3>
<p>Returns the map's values as a separate collection. Useful to use in conjunction with IN, CONTAINS and CONTAINSALL operators.</p>
<p>Syntax: <code>&lt;value&gt;.values()</code></p>
<p>Applies to the following types:</p>
<ul>
<li>maps</li>
<li>documents</li>
</ul>
<h4 id="examples-36"><a class="header" href="#examples-36">Examples</a></h4>
<pre><code class="language-sql">SELECT FROM Clients WHERE map.values() CONTAINSALL ( name is not null)
</code></pre>
<p>#### History</p>
<ul>
<li>1.0rc1: First version</li>
</ul>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../sql/SQL-Functions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../sql/SQL-batch.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../sql/SQL-Functions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../sql/SQL-batch.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>


        
        <img referrerpolicy="unsafe-url" src="https://tglman.org/OrientDB/matomo.php?idsite=7&amp;rec=1" style="border:0" alt="" />


        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
