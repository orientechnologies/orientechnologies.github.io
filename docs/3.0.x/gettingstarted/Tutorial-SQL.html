<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Basic SQL - OrientDB</title>


        <!-- Custom HTML head -->

        <meta name="description" content="OrientDB documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OrientDB</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sql"><a class="header" href="#sql">SQL</a></h1>
<p>Most NoSQL products employ a custom query language.  In this, OrientDB differs by focusing on standards in query languages.  That is, instead of inventing "Yet Another Query Language," it begins with the widely used and well-understood language of SQL.  It then extends SQL to support more complex graphing concepts, such as Trees and Graphs.</p>
<p>Why SQL?  Because SQL is ubiquitous in the database development world. It is familiar and more readable and concise than its competitors, such as Map Reduce scripts or JSON based querying.</p>
<h2 id="select"><a class="header" href="#select"><code>SELECT</code></a></h2>
<p>The <a href="../sql/SQL-Query.html"><code>SELECT</code></a> statement queries the database and returns results that match the given parameters.  For instance, earlier in <a href="Tutorial-Introduction-to-the-NoSQL-world.html">Getting Started</a>, two queries were presented that gave the same results: <code>BROWSE CLUSTER ouser</code> and <code>BROWSE CLASS OUser</code>. Here is a third option, available through a <a href="../sql/SQL-Query.html"><code>SELECT</code></a> statement.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM OUser</code>
</pre>
<p>Notice that the query has no projections. This means that you do not need to enter a character to indicate that the query should return the entire record, such as the asterisk in the Relational model, (that is, <code>SELECT * FROM OUser</code>).</p>
<p>Additionally, OUser is a class. By default, OrientDB executes queries against classes. Targets can also be:</p>
<ul>
<li>
<p><strong>Clusters</strong>  To execute against a cluster, rather than a class, prefix <code>CLUSTER</code> to the target name.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM CLUSTER:Ouser</code>
</pre>
</li>
<li>
<p><strong>Record ID</strong> To execute against one or more <a href="../datamodeling/Concepts.html#record-id">Record ID's</a>, use the identifier(s) as your target.  For example.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM #10:3</code>
orientdb> <code class="lang-sql userinput">SELECT FROM [#10:1, #10:30, #10:5]</code>
</pre>
</li>
<li>
<p><strong>Indexes</strong> To execute a query against an index, prefix <code>INDEX</code> to the target name.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT VALUE FROM INDEX:dictionary WHERE key='Jay'</code>
</pre>
</li>
</ul>
<h3 id="where"><a class="header" href="#where"><code>WHERE</code></a></h3>
<p>Much like the standard implementation of SQL, OrientDB supports <a href="../sql/SQL-Where.html"><code>WHERE</code></a> conditions to filter the returning records too.  For example,</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM OUser WHERE name LIKE 'l%'</code>
</pre>
<p>This returns all <code>OUser</code> records where the name begins with <code>l</code>.  For more information on supported operators and functions, see <a href="../sql/SQL-Where.html"><code>WHERE</code></a>.</p>
<h3 id="order-by"><a class="header" href="#order-by"><code>ORDER BY</code></a></h3>
<p>In addition to <a href="../sql/SQL-Where.html"><code>WHERE</code></a>, OrientDB also supports <code>ORDER BY</code> clauses. This allows you to order the results returned by the query according to one or more fields, in either ascending or descending order.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Employee WHERE city='Rome' ORDER BY surname ASC, name ASC</code>
</pre>
<p>The example queries the <code>Employee</code> class, it returns a listing of all employees in that class who live in Rome and it orders the results by surname and name, in ascending order.</p>
<h3 id="group-by"><a class="header" href="#group-by"><code>GROUP BY</code></a></h3>
<p>In the event that you need results of the query grouped together according to the values of certain fields, you can manage this using the <code>GROUP BY</code> clause.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT SUM(salary) FROM Employee WHERE age < 40 GROUP BY job</code>
</pre>
<p>In the example, you query the <code>Employee</code> class for the sum of the salaries of all employees under the age of forty, grouped by their job types.</p>
<h3 id="limit"><a class="header" href="#limit"><code>LIMIT</code></a></h3>
<p>In the event that your query returns too many results, making it difficult to read or manage, you can use the <code>LIMIT</code> clause to reduce it to the top most of the return values.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Employee WHERE gender='male' LIMIT 20</code>
</pre>
<p>In the example, you query the <code>Employee</code> class for a list of male employees.  Given that there are likely to be a number of these, you limit the return to the first twenty entries.</p>
<h3 id="skip"><a class="header" href="#skip"><code>SKIP</code></a></h3>
<p>When using the <code>LIMIT</code> clause with queries, you can only view the topmost of the return results. In the event that you would like to view certain results further down the list, for instance the values from twenty to forty, you can paginate your results using the <code>SKIP</code> keyword in the <code>LIMIT</code> clause.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Employee WHERE gender='male' LIMIT 20</code>
orientdb> <code class="lang-sql userinput">SELECT FROM Employee WHERE gender='male' SKIP 20 LIMIT 20</code>
orientdb> <code class="lang-sql userinput">SELECT FROM Employee WHERE gender='male' SKIP 40 LIMIT 20</code>
</pre>
<p>The first query returns the first twenty results, the second returns the next twenty results, the third up to sixty.  You can use these queries to manage pages at the application layer.</p>
<h2 id="insert"><a class="header" href="#insert"><code>INSERT</code></a></h2>
<p>The <a href="../sql/SQL-Insert.html"><code>INSERT</code></a> statement adds new data to a class and cluster.  OrientDB supports three forms of syntax used to insert new data into your database.</p>
<ul>
<li>
<p>The standard ANSI-92 syntax:</p>
<pre>
orientdb> <code class="lang-sql userinput">INSERT INTO	Employee(name, surname, gender)
        VALUES('Jay', 'Miner', 'M')</code>
</pre>
</li>
<li>
<p>The simplified ANSI-92 syntax:</p>
<pre>
orientdb> <code class="lang-sql userinput">INSERT INTO Employee SET name='Jay', surname='Miner', gender='M'</code>
</pre>
</li>
<li>
<p>The JSON syntax:</p>
<pre>
orientdb> <code class="lang-sql userinput">INSERT INTO Employee CONTENT</code> <code class="lang-json userinput">{name : 'Jay', surname : 'Miner',
        gender : 'M'}</code>
</pre>
</li>
</ul>
<p>Each of these queries adds Jay Miner to the <code>Employee</code> class. You can choose whichever syntax that works best with your application.</p>
<h2 id="update"><a class="header" href="#update"><code>UPDATE</code></a></h2>
<p>The <a href="../sql/SQL-Update.html"><code>UPDATE</code></a> statement changes the values of existing data in a class and cluster.  In OrientDB there are two forms of syntax used to update data on your database.</p>
<ul>
<li>
<p>The standard ANSI-92 syntax:</p>
<pre>
orientdb> <code class="lang-sql userinput">UPDATE Employee SET local=TRUE WHERE city='London'</code>
</pre>
</li>
<li>
<p>The JSON syntax, used with the <code>MERGE</code> keyword, which merges the changes with the current record:</p>
<pre>
orientdb> <code class="lang-sql userinput">UPDATE Employee MERGE { local : TRUE } WHERE city='London'</code>
</pre>
</li>
</ul>
<p>Each of these statements updates the <code>Employee</code> class, changing the <code>local</code> property to <code>TRUE</code> when the employee is based in London.</p>
<h2 id="delete"><a class="header" href="#delete"><code>DELETE</code></a></h2>
<p>The <a href="../sql/SQL-Delete.html"><code>DELETE</code></a> statement removes existing values from your class and cluster.  OrientDB supports the standard ANSI-92 compliant syntax for these statements:</p>
<pre>
orientdb> <code class="lang-sql userinput">DELETE FROM Employee WHERE city <> 'London'
</pre>
<p>Here, entries are removed from the <code>Employee</code> class where the employee in question is not based in London.</p>
<p><strong>See also:</strong></p>
<ul>
<li><a href="../sql/README.html">The SQL Reference</a></li>
<li><a href="../console/Console-Commands.html">The Console Command Reference</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../gettingstarted/demodb/DemoDB-Graph-Portions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../gettingstarted/Users-Roles-Security.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../gettingstarted/demodb/DemoDB-Graph-Portions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../gettingstarted/Users-Roles-Security.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
