<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Basic Concepts - OrientDB</title>


        <!-- Custom HTML head -->

        <meta name="description" content="OrientDB documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OrientDB</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <!-- proofread 2015-11-26 SAM -->
<h1 id="basic-concepts"><a class="header" href="#basic-concepts">Basic Concepts</a></h1>
<h3 id="record"><a class="header" href="#record">Record</a></h3>
<p>The smallest unit that you can load from and store in the database.  Records come in four types:</p>
<ul>
<li>Documents</li>
<li>Blobs</li>
<li>Vertices</li>
<li>Edges</li>
</ul>
<p>A <strong>Record</strong> is the smallest unit that can be loaded from and stored into the database. A record can be a Document, a Blob a Vertex or even an Edge.</p>
<h3 id="document"><a class="header" href="#document">Document</a></h3>
<p>The Document is the most flexible record type available in OrientDB.  Documents are softly typed and are defined by schema classes with defined constraints, but you can also use them in a schema-less mode too.</p>
<p>Documents handle fields in a flexible manner.  You can easily import and export them in JSON format.  For example,</p>
<pre><code class="language-json">{
     "name"      : "Jay",
     "surname"   : "Miner",
     "job"       : "Developer",
     "creations" : [
          {
		       "name"    : "Amiga 1000",
               "company" : "Commodore Inc."
		   }, {
		       "name"    : "Amiga 500",
               "company" : "Commodore Inc."
           }
     ]
}
</code></pre>
<p>For Documents, OrientDB also supports complex <a href="Concepts.html#relationships">relationships</a>.  From the perspective of developers, this can be understood as a persistent <code>Map&lt;String,Object&gt;</code>.</p>
<h3 id="blob"><a class="header" href="#blob">BLOB</a></h3>
<p>In addition to the Document record type, OrientDB can also load and store binary data.  The BLOB record type was called <code>RecordBytes</code> before OrientDB v2.2.</p>
<h3 id="vertex"><a class="header" href="#vertex">Vertex</a></h3>
<p>In Graph databases, the most basic unit of data is the node, which in OrientDB is called a vertex.  The Vertex stores information for the database.  There is a separate record type called the Edge that connects one vertex to another.</p>
<p>Vertices are also documents.  This means they can contain embedded records and arbitrary properties.</p>
<h3 id="edge"><a class="header" href="#edge">Edge</a></h3>
<p>In Graph databases, an arc is the connection between two nodes, which in OrientDB is called an edge.  Edges are bidirectional and can only connect two vertices.</p>
<p>Edges can be regular or lightweight. The Regular Edge saves as a Document, while the Lightweight Edge does not. For an understanding of the differences between these, see <a href="../java/Lightweight-Edges.html">Lightweight Edges</a>.</p>
<p>For more information on connecting vertices in general, see <a href="Concepts.html#relationships">Relationships</a>, below.</p>
<h2 id="record-id"><a class="header" href="#record-id">Record ID</a></h2>
<p>When OrientDB generates a record, it auto-assigns a unique unit identifier, called a Record ID, or RID.  The syntax for the Record ID is the pound sign with the cluster identifier and the position. The format is like this:</p>
<p><code>#&lt;cluster&gt;:&lt;position&gt;</code>.</p>
<ul>
<li>
<p><strong>Cluster Identifier</strong>: This number indicates the cluster to which the record belongs. Positive numbers in the cluster identifier indicate persistent records. Negative numbers indicate temporary records, such as those that appear in result-sets for queries that use projections.</p>
</li>
<li>
<p><strong>Position</strong>: This number defines the absolute position of the record in the cluster.</p>
</li>
</ul>
<blockquote>
<p><strong>NOTE</strong>: The prefix character <code>#</code> is mandatory to recognize a Record ID.</p>
</blockquote>
<p>Records never lose their identifiers unless they are deleted.  When deleted, OrientDB never recycles identifiers.  Additionally, you can access records directly through their Record ID's.  For this reason, you don't need to create a field to serve as the primary key, as you do in Relational databases.</p>
<h2 id="record-version"><a class="header" href="#record-version">Record Version</a></h2>
<p>Records maintain their own version number, which increments on each update.  In optimistic transactions, OrientDB checks the version in order to avoid conflicts at commit time.</p>
<h2 id="class"><a class="header" href="#class">Class</a></h2>
<p>The concept of the Class is taken from the <a href="http://en.wikipedia.org/wiki/Object-oriented_programming">Object Oriented Programming</a> paradigm.  In OrientDB, classes define records.  It is closest to the concept of a table in Relational databases.</p>
<p>Classes can be schema-less, schema-full or a mix.  They can inherit from other classes, creating a tree of classes.  <a href="http://en.wikipedia.org/wiki/Inheritance_%28object-oriented_programming%29">Inheritance</a>, in this context, means that a sub-class extends a parent class, inheriting all of its attributes.</p>
<p>Each class has its own <a href="Concepts.html#cluster">clusters (data files)</a>.  A non-abstract class (see below) must have at least one cluster defined, which functions as its default cluster.  But, a class can support multiple clusters.  When you execute a query against a class, it automatically propagates to all clusters that are part of the class.  When you create a new record, OrientDB selects the cluster to store it in using a <a href="../misc/Cluster-Selection.html">configurable strategy</a>.</p>
<p>When you create a new class, by default, OrientDB creates new <a href="Concepts.html#database-url">persistent clusters</a> with the same name as the class, in lowercase, suffixed with underscore and an integer.  As a default, OrientDB creates as many clusters per class as many cores (processors) the host machine has.</p>
<p>Eg. for class <code>Person</code>, OrientDB will create clusters <code>person</code>, <code>person_1</code>, <code>person_2</code> and so on so forth.</p>
<h3 id="abstract-class"><a class="header" href="#abstract-class">Abstract Class</a></h3>
<p>The concept of an Abstract Class is one familiar to Object-Oriented programming.  In OrientDB, this feature has been available since version 1.2.0.  Abstract classes are classes used as the foundation for defining other classes.  They are also classes that cannot have instances. For more information on how to create an abstract class, see <a href="../sql/SQL-Create-Class.html">CREATE CLASS</a>.</p>
<p>This concept is essential to Object Orientation, without the typical spamming of the database with always empty, auto-created clusters.</p>
<blockquote>
<p>For more information on Abstract Class as a concept, see <a href="http://en.wikipedia.org/wiki/Abstract_type">Abstract Type</a> and <a href="http://docs.oracle.com/javase/tutorial/java/IandI/abstract.html">Abstract Methods and Classes</a></p>
</blockquote>
<h3 id="class-vs-cluster-in-queries"><a class="header" href="#class-vs-cluster-in-queries">Class vs. Cluster in Queries</a></h3>
<p>The combination of classes and clusters is very powerful and has a number of use cases.  Consider an example where you create a class <code>Invoice</code>, with two clusters <code>invoice2015</code> and <code>invoice2016</code>.  You can query all invoices using the class as a target with <a href="../sql/SQL-Query.html"><code>SELECT</code></a>.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Invoice</code>
</pre>
<p>In addition to this, you can filter the result-set by year.  The class <code>Invoice</code> includes a <code>year</code> field, you can filter it through the <a href="../sql/SQL-Where.html"><code>WHERE</code></a> clause.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Invoice WHERE year = 2012</code>
</pre>
<p>You can also query specific objects from a single cluster.  By splitting the class <code>Invoice</code> across multiple clusters, (that is, one per year), you can optimize the query by narrowing the potential result-set.</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM CLUSTER:invoice2012</code>
</pre>
<p>Due to the optimization, this query runs significantly faster, because OrientDB can narrow the search to the targeted cluster.</p>
<h2 id="cluster"><a class="header" href="#cluster">Cluster</a></h2>
<p>Where classes provide you with a logical framework for organizing data, clusters provide physical or in-memory space in which OrientDB actually stores the data.  It is comparable to the collection in Document databases and the table in Relational databases.</p>
<p>When you create a new class, the <a href="../sql/SQL-Create-Class.html"><code>CREATE CLASS</code></a> process also creates physical clusters that serve as the default location in which to store data for that class.  OrientDB forms the cluster names using the class name, with all lower case letters.  Beginning with version 2.2, OrientDB creates additional clusters for each class, (one for each CPU core on the server), to improve performance of parallelism.</p>
<blockquote>
<p>For more information, see the <a href="../gettingstarted/Tutorial-Clusters.html">Clusters Tutorial</a>.</p>
</blockquote>
<h2 id="relationships"><a class="header" href="#relationships">Relationships</a></h2>
<p>OrientDB supports two kinds of relationships: <strong>referenced</strong> and <strong>embedded</strong>.  It can manage relationships in a schema-full or schema-less scenario.</p>
<h3 id="referenced-relationships"><a class="header" href="#referenced-relationships">Referenced Relationships</a></h3>
<p>In Relational databases, tables are linked through <code>JOIN</code> commands, which can prove costly on computing resources.  OrientDB manges relationships natively without computing <code>JOIN</code>'s.  Instead, it stores direct links to the target objects of the relationship.  This boosts the load speed for the entire graph of connected objects, such as in Graph and Object database systems.</p>
<p>For example</p>
<pre><code>                  customer
  Record A     -------------&gt;    Record B
CLASS=Invoice                 CLASS=Customer
  RID=5:23                       RID=10:2
</code></pre>
<p>Here, record <code>A</code> contains the reference to record <code>B</code> in the property <code>customer</code>.  Note that both records are reachable by other records, given that they have a <a href="Concepts.html#record-id">Record ID</a>.</p>
<p>With the Graph API, <a href="Concepts.html#edge">Edges</a> are represented with two links stored on both vertices to handle the bidirectional relationship.</p>
<h4 id="11-and-1n-referenced-relationships"><a class="header" href="#11-and-1n-referenced-relationships">1:1 and 1:<em>n</em> Referenced Relationships</a></h4>
<p>OrientDB expresses relationships of these kinds using links of the <code>LINK</code> type.</p>
<h4 id="1n-and-nn-referenced-relationships"><a class="header" href="#1n-and-nn-referenced-relationships">1:<em>n</em> and <em>n</em>:<em>n</em> Referenced Relationships</a></h4>
<p>OrientDB expresses relationships of these kinds using a collection of links, such as:</p>
<ul>
<li><code>LINKLIST</code> An ordered list of links.</li>
<li><code>LINKSET</code> An unordered set of links, which does not accept duplicates.</li>
<li><code>LINKMAP</code> An ordered map of links, with <code>String</code> as the key type.  Duplicates keys are not accepted.</li>
</ul>
<p>With the Graph API, <a href="Concepts.html#edge">Edges</a> connect only two vertices.  This means that 1:<em>n</em> relationships are not allowed.  To specify a 1:<em>n</em> relationship with graphs, create multiple edges.</p>
<h3 id="embedded-relationships"><a class="header" href="#embedded-relationships">Embedded Relationships</a></h3>
<p>When using Embedded relationships, OrientDB stores the relationship within the record that embeds it.  These relationships are stronger than Reference relationships.  You can represent it as a <a href="http://en.wikipedia.org/wiki/Class_diagram#Composition">UML Composition relationship</a>.</p>
<p>Embedded records do not have their own <a href="Concepts.html#record-id">Record ID</a>, given that you can't directly reference it through other records.  It is only accessible through the container record.</p>
<p>In the event that you delete the container record, the embedded record is also deleted.  For example,</p>
<pre><code>                   address
  Record A     &lt;&gt;----------&gt;   Record B
CLASS=Account               CLASS=Address
  RID=5:23                     NO RID!
</code></pre>
<p>Here, record <code>A</code> contains the entirety of record <code>B</code> in the property <code>address</code>.  You can reach record <code>B</code> only by traversing the container record.  For example,</p>
<pre>
orientdb> <code class="lang-sql userinput">SELECT FROM Account WHERE address.city = 'Rome'</code>
</pre>
<h4 id="11-and-n1-embedded-relationships"><a class="header" href="#11-and-n1-embedded-relationships">1:1 and <em>n</em>:1 Embedded Relationships</a></h4>
<p>OrientDB expresses relationships of these kinds using the <code>EMBEDDED</code> type.</p>
<h4 id="1n-and-nn-embedded-relationships"><a class="header" href="#1n-and-nn-embedded-relationships">1:<em>n</em> and <em>n</em>:<em>n</em> Embedded Relationships</a></h4>
<p>OrientDB expresses relationships of these kinds using a collection of links, such as:</p>
<ul>
<li><code>EMBEDDEDLIST</code> An ordered list of records.</li>
<li><code>EMBEDDEDSET</code> An unordered set of records, that doesn't accept duplicates.</li>
<li><code>EMBEDDEDMAP</code> An ordered map of records as the value and a string as the key, it doesn't accept duplicate keys.</li>
</ul>
<h3 id="inverse-relationships"><a class="header" href="#inverse-relationships">Inverse Relationships</a></h3>
<p>In OrientDB, all Edges in the Graph model are bidirectional.  This differs from the Document model, where relationships are always unidirectional, requiring the developer to maintain data integrity.  In addition, OrientDB automatically maintains the consistency of all bidirectional relationships.</p>
<h2 id="database"><a class="header" href="#database">Database</a></h2>
<p>The database is an interface to access the real <a href="Concepts.html#database-url">Storage</a>.  IT understands high-level concepts such as queries, schemas, metadata, indices and so on.  OrientDB also provides multiple database types.  For more information on these types, see <a href="../java/Java-API.html#component-architecture">Database Types</a>.</p>
<p>Each server or Java VM can handle multiple database instances, but the database name must be unique. You can't manage two databases at the same time, even if they are in different directories.  To handle this case, use the <code>$</code> dollar character as a separator instead of the <code>/</code> slash character.  OrientDB binds the entire name, so it becomes unique, but at the file system level it converts <code>$</code> with <code>/</code>, allowing multiple databases with the same name in different paths.  For example,</p>
<pre><code>test$customers -&gt; test/customers
production$customers = production/customers
</code></pre>
<h3 id="database-url"><a class="header" href="#database-url">Database URL</a></h3>
<p>OrientDB uses its own <a href="http://en.wikipedia.org/wiki/Uniform_Resource_Locator">URL</a> format, of engine and database name as <code>&lt;engine&gt;:&lt;db-name&gt;</code>.</p>
<div class="table-wrapper"><table><thead><tr><th>Engine</th><th>Description</th><th>Example</th></tr></thead><tbody>
<tr><td><a href="../internals/Paginated-Local-Storage.html">plocal</a></td><td>This engine writes to the file system to store data. There is a LOG of changes to restore the storage in case of a crash.</td><td><code>plocal:/temp/databases/petshop/petshop</code></td></tr>
<tr><td><a href="../internals/Memory-storage.html">memory</a></td><td>Open a database completely in memory</td><td><code>memory:petshop</code></td></tr>
<tr><td>remote</td><td>The storage will be opened via a remote network connection. It requires an OrientDB Server up and running. In this mode, the database is shared among multiple clients. Syntax: <code>remote:&lt;server&gt;:[&lt;port&gt;]/db-name</code>. The port is optional and defaults to 2424.</td><td><code>remote:localhost/petshop</code></td></tr>
</tbody></table>
</div>
<h3 id="database-usage"><a class="header" href="#database-usage">Database Usage</a></h3>
<p>You must always close the database once you finish working on it.</p>
<blockquote>
<p><strong>NOTE</strong>: OrientDB automatically closes all opened databases, when the process dies gracefully (not by killing it by force). This is assured if the Operating System allows a graceful shutdown.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../datamodeling/Multi-Tenant.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../programs/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../datamodeling/Multi-Tenant.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../programs/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
