<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Server - OrientDB</title>


        <!-- Custom HTML head -->

        <meta name="description" content="OrientDB documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">OrientDB</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="orientdb-server"><a class="header" href="#orientdb-server">OrientDB Server</a></h1>
<p>OrientDB Server (DB-Server from now) is a multi-threaded Java application that listens to remote commands and executes them against the Orient databases. OrientDB Server supports both <a href="Network-Binary-Protocol.html">binary</a> and <a href="../misc/OrientDB-REST.html">HTTP</a> protocols. The first one is used by the Orient native client and the Orient Console. The second one can be used by any languages since it's based on <a href="../misc/OrientDB-REST.html">HTTP RESTful API</a>. The HTTP protocol is used also by the <a href="../studio/README.html">OrientDB Studio application</a>.</p>
<p>Starting from v1.7 OrientDB support <a href="../security/Using-SSL-with-OrientDB.html">protected SSL connections</a>.</p>
<div class="table-wrapper"><table><thead><tr><th></th><th></th></tr></thead><tbody>
<tr><td><img src="../images/warning.png" alt="warning" /></td><td>Even thought OrientDB Server is a regular Web Server, it is not recommended to expose it directly on the Internet or public networks. We suggest to always hide OrientDB server in a private network.</td></tr>
</tbody></table>
</div>
<h2 id="install-as-a-service"><a class="header" href="#install-as-a-service">Install as a service</a></h2>
<p>OrientDB Server is part of Community and Enterprise distributions. To install OrientDB as service follow the following guides</p>
<ul>
<li><a href="../admin/Unix-Service.html">Unix, Linux and MacOSX</a></li>
<li><a href="../admin/Windows-Service.html">Windows</a></li>
</ul>
<h2 id="start-the-server"><a class="header" href="#start-the-server">Start the server</a></h2>
<p>To start the server, execute bin/server.sh (or bin/server.bat on Microsoft Windows systems). By default both the binary and http interfaces are active. If you want to disable one of these change the <a href="#configuration">Server configuration</a>.</p>
<p>Upon startup, the server runs on port 2424 for the binary protocol and 2480 for the http one. If a port is busy the next free one will be used. The default range is 2424-2430 (binary) and 2480-2490 (http). These default ranges can be changed in in <a href="#configuration">Server configuration</a>.</p>
<h2 id="stop-the-server"><a class="header" href="#stop-the-server">Stop the server</a></h2>
<p>To stop a running server, press CTRL+C in the open shell that runs the Server instance or soft kill the process to be sure that the opened databases close softly. Soft killing on Windows can be done by closing the window. On Unix-like systems, a simple kill is enough (Do not use kill -9 unless you want to force a hard shutdown).</p>
<h2 id="dump-the-server-status"><a class="header" href="#dump-the-server-status">Dump the server status</a></h2>
<p>In order to display the internal status of an OrientDB server, you can send an interrupt to the process. In Unix based OS you can do that by executing <code>kill -5 &lt;orientdb-server-pid&gt;</code>. To know more about this topic, please visit the <a href="Server-Status.html">Server Status</a> page.</p>
<h2 id="connect-to-the-server"><a class="header" href="#connect-to-the-server">Connect to the server</a></h2>
<h3 id="by-console"><a class="header" href="#by-console">By Console</a></h3>
<p>The OrientDB distribution provides the <a href="../console/README.html">Orient Console</a> tool as a console Java application that uses the binary protocol to work with the database.</p>
<h3 id="by-orientdb-studio"><a class="header" href="#by-orientdb-studio">By OrientDB Studio</a></h3>
<p>Starting from the release 0.9.13 Orient comes with the <a href="../studio/README.html">OrientDB Studio application</a>, a client-side web app that uses the HTTP protocol to work with the database.</p>
<h3 id="by-your-application"><a class="header" href="#by-your-application">By your application</a></h3>
<p>Consider the <a href="../java/Java-API.html">native APIs</a> if you use Java. For all the other languages you can use the <a href="../misc/OrientDB-REST.html">HTTP RESTful protocol</a>.</p>
<h2 id="distributed-servers"><a class="header" href="#distributed-servers">Distributed servers</a></h2>
<p>To setup a distributed configuration look at: <a href="../distributed/Distributed-Architecture.html">Distributed-Architecture</a>.</p>
<h2 id="change-the-servers-database-directory"><a class="header" href="#change-the-servers-database-directory">Change the Server's database directory</a></h2>
<p>By default OrientDB server manages the database under the directory "$ORIENTDB_HOME/databases" where $ORIENTDB_HOME is the OrientDB installation directory. By setting the configuration parameter <code>"server.database.path"</code> in server orientdb-server-config.xml you can specify a custom path. Example:</p>
<pre><code class="language-xml">&lt;orient-server&gt;
  ...
  &lt;properties&gt;
    &lt;entry value="C:/temp/databases" name="server.database.path" /&gt;
  &lt;/properties&gt;
&lt;/orient-server&gt;
</code></pre>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<h3 id="plugins"><a class="header" href="#plugins">Plugins</a></h3>
<p>Plug-ins (old name "Handler") are the way the OrientDB Server can be extended.</p>
<p>To write your own plug-in read below <a href="../plugins/Extend-Server.html">Extend the server</a>.</p>
<p>Available plugins:</p>
<ul>
<li><a href="../plugins/Automatic-Backup.html">Automatic-Backup</a></li>
<li><a href="../plugins/Mail-Plugin.html">EMail Plugin</a></li>
<li><a href="../plugins/JMX-Plugin.html">JMX Plugin</a></li>
<li><a href="../distributed/Distributed-Server-Manager.html">Distributed-Server-Manager</a></li>
<li><a href="../js/Javascript-Command.html#enable-server-side-scripting">Server-side script interpreter</a></li>
<li><a href="../plugins/Extend-Server.html">Write your own</a></li>
</ul>
<h3 id="protocols"><a class="header" href="#protocols">Protocols</a></h3>
<p>Contains the list of protocols used by the <a href="#listeners">listeners section</a>.
The protocols supported today are:</p>
<ul>
<li><strong>binary</strong>: the Raw binary protocol used by OrientDB clients and console application.</li>
<li><strong>http</strong>: the HTTP RESTful protocol used by <a href="../studio/README.html">OrientDB Studio</a> and direct raw access from any language and browsers.</li>
</ul>
<h3 id="listeners"><a class="header" href="#listeners">Listeners</a></h3>
<p>You can configure multiple listeners by adding items under the <code>&lt;listeners&gt;</code> tag and selecting the ip-address and TCP/IP port to bind. The protocol used must be listed in the <a href="#protocols">protocols section</a>. Listeners can be configured with single port or port range. If a range of ports is specified, then it will try to acquire the first port available. If no such port is available, then an error is thrown.
By default the Server configuration activates connections from both the protocols:</p>
<ul>
<li><strong>binary</strong>: by default the binary connections are listened to the port range 2424-2430.</li>
<li><strong>http</strong>: by default the HTTP connections are listened to the port range 2480-2490.</li>
</ul>
<h3 id="storages"><a class="header" href="#storages">Storages</a></h3>
<p>Contains the list of the static configured storages. When the server starts for each storages static configured storage enlisted check if exists. If exists opens it, otherwise creates it transparently.</p>
<p>By convention all the storages contained in the $ORIENT_HOME/databases are visible from the OrientDB Server instance without the need of configure them. So configure storages if:</p>
<ul>
<li>are located outside the default folder. You can use any environment variable in the path such the ORIENT_HOME that points to the Orient installation path if defined otherwise to the root directory where the Orient Server starts.</li>
<li>want to create/open automatically a database when the server start ups</li>
</ul>
<p>By default the <strong>"temp"</strong> database is always configured as in-memory storage useful to store volatile information.</p>
<p>Example of configuration:</p>
<pre><code class="language-xml">&lt;storage name="mydb" path="local:C:/temp/databases/mydb"
         userName="admin" userPassword="admin"
         loaded-at-startup="true" /&gt;
</code></pre>
<p>To create a new database use the <a href="../console/Console-Command-Create-Database.html">CREATE DATABASE console command</a> or create it dinamically using the <a href="../java/Java-API.html">Java-API</a>.</p>
<h3 id="users"><a class="header" href="#users">Users</a></h3>
<p>Starting from v.0.9.15 OrientDB supports per-server users in order to protect sensible operations to the users. In facts the creation of a new database is a server operation as much as the retrieving of server statistics.</p>
<h4 id="automatic-password-generation"><a class="header" href="#automatic-password-generation">Automatic password generation</a></h4>
<p>When an OrientDB server starts for the first time, a new user called "root" will be generated and saved in the server configuration. This avoid security problems when, very often, the passwords remain the default ones.</p>
<h4 id="resources"><a class="header" href="#resources">Resources</a></h4>
<p>User based authentication checks if the logged user has the permission to access to the requested resource. "*" means access to all the resource. This is the typical setting for the user "root". Multiple resources must be separated by comma.</p>
<p>Example to let to the "root" user to access to all the server commands:</p>
<pre><code class="language-xml">&lt;user name="root" resources="*" password="095F17F6488FF5416ED24E"/&gt;
</code></pre>
<p>Example to let to the "guest" user to access only to the "info-server" command:</p>
<pre><code class="language-xml">&lt;user name="guest" resources="info-server" password="3489438DKJDK4343UDH76"/&gt;
</code></pre>
<p>Supported resources are:</p>
<ul>
<li><code>info-server</code>, to obtain statistics about the server</li>
<li><code>database.create</code>, to create a new database</li>
<li><code>database.exists</code>, to check if a database exists</li>
<li><code>database.delete</code>, to delete an existent database</li>
<li><code>database.share</code>, to share a database to another OrientDB Server node</li>
<li><code>database.passthrough</code>, to access to the hosted databases without database's authentication</li>
<li><code>server.config.get</code>, to retrieve a configuration setting value</li>
<li><code>server.config.set</code>, to set a configuration setting value</li>
</ul>
<h3 id="create-new-user-with-some-privileges"><a class="header" href="#create-new-user-with-some-privileges">Create new user with some privileges</a></h3>
<p>To configure a new user open the <strong>config/orientdb-server-config.xml</strong> file and add a new XML tag under the tag <code>&lt;users&gt;</code>:</p>
<pre><code class="language-xml">&lt;users&gt;
    &lt;user name="MyUser" password="MyPassword" resources="database.exists"/&gt;
&lt;/users&gt;
</code></pre>
<h2 id="extend-the-server"><a class="header" href="#extend-the-server">Extend the server</a></h2>
<p>To extend the server's features look at <a href="../plugins/Extend-Server.html">Extends the server</a>.</p>
<h2 id="debug-the-server"><a class="header" href="#debug-the-server">Debug the server</a></h2>
<p>To debug the server configure your IDE to execute the class OServerMain:</p>
<pre><code class="language-java">com.orientechnologies.orient.server.OServerMain
</code></pre>
<p>Passing these parameters:</p>
<pre><code>-server
-Dorientdb.config.file=config/orientdb-server-config.xml
-Dorientdb.www.path=src/site
-DORIENTDB_HOME=url/local/orientdb/releases/orientdb-1.2.0-SNAPSHOT
-Djava.util.logging.config.file=config/orientdb-server-log.properties
-Dcache.level1.enabled=false
-Dprofiler.enabled=true
</code></pre>
<p>Changing the ORIENTDB_HOME according to your path.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../java/Java-Hooks.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../internals/Server-Status.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../java/Java-Hooks.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../internals/Server-Status.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
